<!--accept="application/pdf"-->
<!DOCTYPE html>
<html>

<head>
    <title>File Validation Using Javascript</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style type="text/css">
        #form {
            margin-top: 10% !important;
            border: 2px solid #00c243;
            width: 50%;
            margin: auto;
        }

        #view {
            margin: auto;
            width: 120px;
            border: 2px solid;
            height: 120px;
        }

        h2 {
            text-align: center;
            background-color: #00c130;
            color: white;
            margin-bottom: 5px;
        }
    </style>
</head>


<body>
    <div class="container">

        <form id="form" action="#" method="post" enctype="multipart/form-data">
            <h2>File Validation Using JavaScript</h2>
            <table width="100%" height="100" align="center">
                <tr>
                    <td>
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" id="uploadfile" name="uploadfile">
                            <label class="custom-file-label" id="file_name">Choose file</label>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><input type="button" name="Upload File" value="Upload File" id="upload_btl"
                            class="btn btn-primary btn-block"></td>
                </tr>
            </table>
        </form>

    </div>
    <script>
        $("#uploadfile").on("change", function () {
            var fileName = $(this).val().split("\\").pop();
            $(this).siblings("#file_name").addClass("selected").html(fileName);
        });


        document.getElementById('upload_btl').onclick = function () {
            var image = document.getElementById('uploadfile').value;
            if (image != '') {
                var checkimg = image.toLowerCase();
                if (!checkimg.match(/(\.jpg|\.png|\.JPG|\.PNG|\.jpeg|\.JPEG)$/)) {
                    alert("Please Select jpg,png File");
                    document.getElementById('uploadfile').value = "";
                    document.getElementById('file_name').innerHTML = "Choose file";
                    exit;
                }
                var image = document.getElementById('uploadfile');
                var size = parseFloat(image.files[0].size / (1024 * 1024)).toFixed(2);
                if (size > 2) {
                    alert("Please Select Size Less Than 2 MB");
                    document.getElementById('uploadfile').value = "";
                    document.getElementById('file_name').innerHTML = "Choose file";
                    exit;
                } else {
                    alert("Valid File");
                }
            }

        }
    </script>

</body>

</html>